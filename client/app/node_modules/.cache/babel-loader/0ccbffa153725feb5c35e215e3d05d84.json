{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/patry/OneDrive/Pulpit/DB learn/client/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"C:/Users/patry/OneDrive/Pulpit/DB learn/client/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:/Users/patry/OneDrive/Pulpit/DB learn/client/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"C:/Users/patry/OneDrive/Pulpit/DB learn/client/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/patry/OneDrive/Pulpit/DB learn/client/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useState,useEffect}from'react';import{GrNotes}from'react-icons/gr';import{GoNote}from'react-icons/go';import{VscGithubAction}from'react-icons/vsc';import axios from'axios';import DescriptionForm from'./Note/DescriptionForm';import NoteTitleForm from'./Note/NoteTitleForm';import{v4 as uuidv4}from'uuid';import Comment from'./Note/Comment';import{useForm}from'react-hook-form';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NoteDetails(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),mouseLeave=_useState2[0],setMouseLeave=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),noteDescription=_useState4[0],setNoteDescription=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),patchTitle=_useState6[0],setPatchTitle=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),noteDescriptionFokus=_useState8[0],setNoteDescriptionFokus=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),comment=_useState10[0],setComment=_useState10[1];var ref=useRef();var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),file=_useState12[0],setFile=_useState12[1];//////// FUNCTIONS\nvar onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var fd,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();fd=new FormData();console.log(file);fd.append('file',file,file.name);_context.next=6;return axios.post('/upload',fd);case 6:res=_context.sent;props.setNote(_objectSpread(_objectSpread({},props.note),{},{attachments:[].concat(_toConsumableArray(props.note.attachments),[res.data.file.filename])}));case 8:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();var renderForm=function renderForm(){return/*#__PURE__*/_jsxs(\"form\",{style:{display:'flex',marginTop:4},onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"input\",{ref:ref,name:\"file\",type:\"file\",title:\"dsdsdsd\",onChange:function onChange(e){setFile(e.target.files[0]);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:file?{display:'block'}:{display:'none'},children:\" add file \"})]});};var renderAttachments=function renderAttachments(){var viewPhoto=function viewPhoto(filePath){window.open('http://localhost:3001/file/image/'+filePath,'_blank');};return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',marginLeft:44,marginBottom:8},children:props.note.attachments&&props.note.attachments.map(function(filePath){return/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){viewPhoto(filePath);},style:{padding:5,backgroundColor:'#fff',border:'1px solid black',marginRight:4,borderRadius:6},className:\"attachment__image__wrapper\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{style:{objectFit:'contain',width:'50px',height:'auto'},src:'file/image/'+filePath}),\" \"]});})});};useEffect(function(){if(props.note.comments===undefined){props.setNote(_objectSpread(_objectSpread({},props.note),{},{comments:[]}));}if(props.note.attachments===undefined){props.setNote(_objectSpread(_objectSpread({},props.note),{},{attachments:[]}));}console.log(props.note);},[]);var handleMouseLeaveClick=function handleMouseLeaveClick(){if(mouseLeave)ref.current.addEventListener('click',props.setShowDetails(false));};var handleAddComment=function handleAddComment(e){e.preventDefault();props.setNote(_objectSpread(_objectSpread({},props.note),{},{comments:[{id:uuidv4(),content:comment,date:Date.now()}].concat(_toConsumableArray(props.note.comments))}));ref.current.reset();return false;};return/*#__PURE__*/_jsx(\"div\",{onClick:handleMouseLeaveClick,className:\"note-details\",children:/*#__PURE__*/_jsx(\"div\",{onMouseEnter:function onMouseEnter(){setMouseLeave(false);},onMouseLeave:function onMouseLeave(){setMouseLeave(true);},className:\"note-details__wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"note-details__top\",children:[/*#__PURE__*/_jsx(GrNotes,{className:\"note-details__icon\"}),/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return setPatchTitle(true);},className:\"note-details__header__wrapper\",children:[patchTitle?/*#__PURE__*/_jsx(NoteTitleForm,{fetchNotes:props.fetchNotes,setPatchTitle:setPatchTitle,note:props.note,setNote:props.setNote}):/*#__PURE__*/_jsx(\"h3\",{className:\"note-details__header\",children:props.note.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"na li\\u015Bcie: \",/*#__PURE__*/_jsx(\"span\",{children:props.boardTitle})]})]})]}),renderAttachments(),/*#__PURE__*/_jsxs(\"div\",{className:\"note-detaild__middle\",children:[/*#__PURE__*/_jsx(GoNote,{className:\"note-details__icon\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"note-details__details__wrapper\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Opis\"}),renderForm(),/*#__PURE__*/_jsx(\"div\",{className:\"note-details__details__description\",children:noteDescriptionFokus?/*#__PURE__*/_jsx(DescriptionForm,{noteDesc:props.noteDesc,setNoteDesc:props.setNoteDesc,handlePatchDescription:props.handlePatchDescription,note:props.note,description:props.note.description,setNoteDescription:setNoteDescription,boardId:props.boardId,_id:props.note._id}):/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsx(\"textarea\",{onClick:function onClick(){return setNoteDescriptionFokus(true);},onChange:function onChange(e){return setNoteDescription(e.target.value);},value:props.noteDesc})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"note-details__bottom\",children:[/*#__PURE__*/_jsx(VscGithubAction,{className:\"note-details__icon\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"note-details__comments\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Aktywno\\u015B\\u0107\"}),/*#__PURE__*/_jsx(\"form\",{ref:ref,onSubmit:function onSubmit(e){handleAddComment(e);},children:/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){setComment(e.target.value);},className:\"comment-input\",placeholder:\"napisz komentarz\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'block'},children:props.note.comments&&props.note.comments.map(function(comment){return/*#__PURE__*/_jsx(Comment,{comment:comment});})})]})})});}export default NoteDetails;","map":{"version":3,"sources":["C:/Users/patry/OneDrive/Pulpit/DB learn/client/app/src/components/NoteDetails.js"],"names":["React","useRef","useState","useEffect","GrNotes","GoNote","VscGithubAction","axios","DescriptionForm","NoteTitleForm","v4","uuidv4","Comment","useForm","NoteDetails","props","mouseLeave","setMouseLeave","noteDescription","setNoteDescription","patchTitle","setPatchTitle","noteDescriptionFokus","setNoteDescriptionFokus","comment","setComment","ref","file","setFile","onSubmit","e","preventDefault","fd","FormData","console","log","append","name","post","res","setNote","note","attachments","data","filename","renderForm","display","marginTop","target","files","renderAttachments","viewPhoto","filePath","window","open","marginLeft","marginBottom","map","padding","backgroundColor","border","marginRight","borderRadius","objectFit","width","height","comments","undefined","handleMouseLeaveClick","current","addEventListener","setShowDetails","handleAddComment","id","content","date","Date","now","reset","fetchNotes","title","boardTitle","noteDesc","setNoteDesc","handlePatchDescription","description","boardId","_id","value"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from 'react'\r\nimport { GrNotes } from 'react-icons/gr'\r\nimport { GoNote } from 'react-icons/go'\r\nimport { VscGithubAction } from 'react-icons/vsc'\r\nimport axios from 'axios'\r\nimport DescriptionForm from './Note/DescriptionForm'\r\nimport NoteTitleForm from './Note/NoteTitleForm'\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport Comment from './Note/Comment'\r\nimport { useForm } from 'react-hook-form'\r\n\r\n\r\nfunction NoteDetails(props) {\r\n\r\n    const [mouseLeave, setMouseLeave] = useState(true)\r\n    const [noteDescription, setNoteDescription] = useState()\r\n    const [patchTitle, setPatchTitle] = useState(false)\r\n    const [noteDescriptionFokus, setNoteDescriptionFokus] = useState(false)\r\n    const [comment, setComment] = useState()\r\n    const ref = useRef()\r\n    const [file, setFile] = useState()\r\n\r\n\r\n    //////// FUNCTIONS\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault()\r\n        let fd = new FormData()\r\n        console.log(file)\r\n        fd.append('file', file, file.name)\r\n\r\n        const res = await axios.post('/upload', fd)\r\n        props.setNote({ ...props.note, attachments: [...props.note.attachments, res.data.file.filename] })\r\n    }\r\n\r\n    const renderForm = () => {\r\n        return (\r\n            <form style={{ display: 'flex', marginTop: 4 }} onSubmit={onSubmit}>\r\n                <input ref={ref} name='file' type='file' title=\"dsdsdsd\" onChange={e => { setFile(e.target.files[0]); }} />\r\n                <button type='submit' style={file ? { display: 'block' } : { display: 'none' }} > add file </button>\r\n\r\n            </form>\r\n        )\r\n    }\r\n\r\n    const renderAttachments = () => {\r\n\r\n        const viewPhoto = (filePath) => {\r\n            window.open('http://localhost:3001/file/image/' + filePath, '_blank')\r\n        }\r\n\r\n        return <div style={{ display: 'flex', marginLeft: 44, marginBottom: 8 }}>\r\n            {props.note.attachments && props.note.attachments.map(filePath => <div onClick = {() => {viewPhoto(filePath)}} style={{ padding: 5, backgroundColor: '#fff', border: '1px solid black', marginRight: 4, borderRadius: 6 }} className='attachment__image__wrapper'> <img style={{ objectFit: 'contain', width: '50px', height: 'auto' }} src={'file/image/' + filePath} /> </div>)}\r\n        </div>\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (props.note.comments === undefined) { props.setNote({ ...props.note, comments: [] }) }\r\n        if (props.note.attachments === undefined) { props.setNote({ ...props.note, attachments: [] }) }\r\n        console.log(props.note)\r\n\r\n\r\n    }, [])\r\n\r\n    const handleMouseLeaveClick = () => {\r\n        if (mouseLeave) ref.current.addEventListener('click', props.setShowDetails(false))\r\n    }\r\n\r\n    const handleAddComment = (e) => {\r\n        e.preventDefault()\r\n        props.setNote({ ...props.note, comments: [{ id: uuidv4(), content: comment, date: Date.now() }, ...props.note.comments] })\r\n        ref.current.reset()\r\n        return false\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div onClick={handleMouseLeaveClick} className='note-details'>\r\n            <div onMouseEnter={() => { setMouseLeave(false) }} onMouseLeave={() => { setMouseLeave(true) }} className='note-details__wrapper'>\r\n                <div>\r\n                    <div className='note-details__top'>\r\n                        <GrNotes className='note-details__icon' />\r\n                        <div onClick={() => setPatchTitle(true)} className='note-details__header__wrapper'>\r\n                            {patchTitle ? <NoteTitleForm fetchNotes={props.fetchNotes} setPatchTitle={setPatchTitle} note={props.note} setNote={props.setNote} /> : <h3 className='note-details__header'  >{props.note.title}</h3>}\r\n                            <p>na liście: <span>{props.boardTitle}</span></p>\r\n                        </div>\r\n                    </div>\r\n                    {renderAttachments()}\r\n                    <div className='note-detaild__middle' >\r\n                        <GoNote className='note-details__icon' />\r\n                        <div className='note-details__details__wrapper' >\r\n                            <h4>Opis</h4>\r\n                            {renderForm()}\r\n                            <div className='note-details__details__description'>\r\n                                {noteDescriptionFokus ? <DescriptionForm noteDesc={props.noteDesc} setNoteDesc={props.setNoteDesc} handlePatchDescription={props.handlePatchDescription} note={props.note} description={props.note.description} setNoteDescription={setNoteDescription} boardId={props.boardId} _id={props.note._id} /> :\r\n\r\n                                    <form >\r\n                                        <textarea onClick={() => setNoteDescriptionFokus(true)} onChange={(e) => setNoteDescription(e.target.value)} value={props.noteDesc} />\r\n                                    </form>}\r\n\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className='note-details__bottom' >\r\n                        <VscGithubAction className='note-details__icon' />\r\n                        <div className='note-details__comments' >\r\n                            <h4>Aktywność</h4>\r\n                            <form ref={ref} onSubmit={(e) => { handleAddComment(e) }} >\r\n                                <input onChange={(e) => { setComment(e.target.value) }} className='comment-input' placeholder='napisz komentarz' />\r\n                            </form>\r\n\r\n                        </div>\r\n\r\n\r\n                    </div>\r\n\r\n\r\n                    <div style={{ display: 'block' }}>\r\n                        {props.note.comments && props.note.comments.map(comment => <Comment comment={comment} />)}\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NoteDetails\r\n"]},"metadata":{},"sourceType":"module"}
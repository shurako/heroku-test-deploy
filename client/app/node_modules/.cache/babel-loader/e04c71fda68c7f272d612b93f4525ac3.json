{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/patry/OneDrive/Pulpit/DB learn/client/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"C:/Users/patry/OneDrive/Pulpit/DB learn/client/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"C:/Users/patry/OneDrive/Pulpit/DB learn/client/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/patry/OneDrive/Pulpit/DB learn/client/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef}from'react';import'./BottomBar.css';import axios from'axios';import{FaTrash}from'react-icons/fa';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BottomBar(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showDelete=_useState2[0],setShowDelete=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),mouseLeave=_useState4[0],setMouseLeave=_useState4[1];var ref=useRef();var createBoard=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var newBoard;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post('/boards',{title:''});case 2:newBoard=_context.sent;props.setBoards([].concat(_toConsumableArray(props.boards),[newBoard.data]));case 4:case\"end\":return _context.stop();}}},_callee);}));return function createBoard(){return _ref.apply(this,arguments);};}();var deleteBoard=function deleteBoard(){var handleDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var newBoards;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.delete(\"/boards/\".concat(id));case 2:newBoards=props.boards.filter(function(board){return board._id!==id;});props.setBoards(newBoards);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function handleDelete(_x){return _ref2.apply(this,arguments);};}();var handleMouseLeaveClick=function handleMouseLeaveClick(){if(mouseLeave)ref.current.addEventListener('click',setShowDelete(false));};return/*#__PURE__*/_jsx(\"div\",{ref:ref,onClick:handleMouseLeaveClick,className:\"delete-board__wrapper\",children:/*#__PURE__*/_jsx(\"div\",{onMouseEnter:function onMouseEnter(){setMouseLeave(false);},onMouseLeave:function onMouseLeave(){return setMouseLeave(true);},className:\"delete-board\",children:props.boards.map(function(board){return/*#__PURE__*/_jsxs(\"div\",{className:\"delete-board__item\",children:[\" \",board.title,\" \",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){handleDelete(board._id);},children:/*#__PURE__*/_jsx(FaTrash,{})}),\" \"]});})})});};return/*#__PURE__*/_jsxs(\"div\",{className:\"bottom-bar\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:createBoard,className:\"bottom-bar__btn create\",children:\"CREATE BOARD\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setShowDelete(true);},className:\"bottom-bar__btn delete\",children:\"DELETE BOARD\"}),showDelete?deleteBoard():'']});}export default BottomBar;","map":{"version":3,"sources":["C:/Users/patry/OneDrive/Pulpit/DB learn/client/app/src/components/BottomBar/BottomBar.js"],"names":["React","useState","useRef","axios","FaTrash","BottomBar","props","showDelete","setShowDelete","mouseLeave","setMouseLeave","ref","createBoard","post","title","newBoard","setBoards","boards","data","deleteBoard","handleDelete","id","delete","newBoards","filter","board","_id","handleMouseLeaveClick","current","addEventListener","map"],"mappings":"yqBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,MAAzB,KAAsC,OAAtC,CACA,MAAO,iBAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,OAAR,KAAsB,gBAAtB,C,wFAEA,QAASC,CAAAA,SAAT,CAAmBC,KAAnB,CAA0B,CAEtB,cAAoCL,QAAQ,CAAC,KAAD,CAA5C,wCAAOM,UAAP,eAAmBC,aAAnB,eACA,eAAoCP,QAAQ,CAAC,IAAD,CAA5C,yCAAOQ,UAAP,eAAmBC,aAAnB,eACA,GAAMC,CAAAA,GAAG,CAAGT,MAAM,EAAlB,CAEA,GAAMU,CAAAA,WAAW,0FAAG,sKACOT,CAAAA,KAAK,CAACU,IAAN,CAAW,SAAX,CAAsB,CAACC,KAAK,CAAE,EAAR,CAAtB,CADP,QACVC,QADU,eAEhBT,KAAK,CAACU,SAAN,8BAAoBV,KAAK,CAACW,MAA1B,GAAkCF,QAAQ,CAACG,IAA3C,IAFgB,sDAAH,kBAAXN,CAAAA,WAAW,0CAAjB,CAKA,GAAMO,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CAEtB,GAAMC,CAAAA,YAAY,2FAAG,kBAAOC,EAAP,2JACXlB,CAAAA,KAAK,CAACmB,MAAN,mBAAwBD,EAAxB,EADW,QAEXE,SAFW,CAECjB,KAAK,CAACW,MAAN,CAAaO,MAAb,CAAqB,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAACC,GAAN,GAAcL,EAAlB,EAA1B,CAFD,CAGjBf,KAAK,CAACU,SAAN,CAAgBO,SAAhB,EAHiB,wDAAH,kBAAZH,CAAAA,YAAY,6CAAlB,CAMA,GAAMO,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,EAAM,CAChC,GAAGlB,UAAH,CAAeE,GAAG,CAACiB,OAAJ,CAAYC,gBAAZ,CAA6B,OAA7B,CAAsCrB,aAAa,CAAC,KAAD,CAAnD,EAClB,CAFD,CAIA,mBACI,YAAK,GAAG,CAAIG,GAAZ,CAAiB,OAAO,CAAIgB,qBAA5B,CAAoD,SAAS,CAAG,uBAAhE,uBACI,YAAK,YAAY,CAAI,uBAAM,CAACjB,aAAa,CAAC,KAAD,CAAb,CAAqB,CAAjD,CAAmD,YAAY,CAAI,8BAAMA,CAAAA,aAAa,CAAC,IAAD,CAAnB,EAAnE,CAA8F,SAAS,CAAG,cAA1G,UACKJ,KAAK,CAACW,MAAN,CAAaa,GAAb,CAAkB,SAAAL,KAAK,qBAAI,aAAK,SAAS,CAAG,oBAAjB,eAAyCA,KAAK,CAACX,KAA/C,kBAAsD,eAAQ,OAAO,CAAI,kBAAM,CAACM,YAAY,CAACK,KAAK,CAACC,GAAP,CAAZ,CAAwB,CAAlD,uBAAqD,KAAC,OAAD,IAArD,EAAtD,OAAJ,EAAvB,CADL,EADJ,EADJ,CAOH,CAnBD,CAqBA,mBACI,aAAK,SAAS,CAAG,YAAjB,wBACI,eAAQ,OAAO,CAAId,WAAnB,CAAgC,SAAS,CAAG,wBAA5C,0BADJ,cAEI,eAAQ,OAAO,CAAI,yBAAMJ,CAAAA,aAAa,CAAC,IAAD,CAAnB,EAAnB,CAA8C,SAAS,CAAG,wBAA1D,0BAFJ,CAGKD,UAAU,CAAGY,WAAW,EAAd,CAAmB,EAHlC,GADJ,CAOH,CAED,cAAed,CAAAA,SAAf","sourcesContent":["import React, {useState, useRef} from 'react'\r\nimport './BottomBar.css'\r\nimport axios from 'axios'\r\nimport {FaTrash} from 'react-icons/fa'\r\n\r\nfunction BottomBar(props) {\r\n\r\n    const [showDelete, setShowDelete] = useState(false)\r\n    const [mouseLeave, setMouseLeave] = useState(true)\r\n    const ref = useRef()\r\n\r\n    const createBoard = async () => {\r\n        const newBoard = await axios.post('/boards', {title: ''})\r\n        props.setBoards([...props.boards, newBoard.data])\r\n    }\r\n\r\n    const deleteBoard = () => {\r\n\r\n        const handleDelete = async (id) => {\r\n            await axios.delete(`/boards/${id}`);\r\n            const newBoards = props.boards.filter( board => board._id !== id  )\r\n            props.setBoards(newBoards)\r\n        }\r\n\r\n        const handleMouseLeaveClick = () => {\r\n            if(mouseLeave) ref.current.addEventListener('click', setShowDelete(false))\r\n        }\r\n\r\n        return(\r\n            <div ref = {ref} onClick = {handleMouseLeaveClick}  className = 'delete-board__wrapper' >\r\n                <div onMouseEnter = {() => {setMouseLeave(false)}} onMouseLeave = {() => setMouseLeave(true)} className = 'delete-board'>\r\n                    {props.boards.map( board => <div className = 'delete-board__item' > {board.title} <button onClick = {() => {handleDelete(board._id)}} ><FaTrash/></button> </div> )}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className = 'bottom-bar'>\r\n            <button onClick = {createBoard} className = 'bottom-bar__btn create' >CREATE BOARD</button>\r\n            <button onClick = {() => setShowDelete(true)} className = 'bottom-bar__btn delete' >DELETE BOARD</button>\r\n            {showDelete ? deleteBoard() : ''}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BottomBar\r\n"]},"metadata":{},"sourceType":"module"}
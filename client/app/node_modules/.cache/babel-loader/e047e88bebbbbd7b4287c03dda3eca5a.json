{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\patry\\\\OneDrive\\\\Pulpit\\\\DB learn\\\\client\\\\app\\\\src\\\\components\\\\Note.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './Note.css';\nimport axios from 'axios';\nimport NoteDetails from './NoteDetails';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Note(props) {\n  _s();\n\n  const {\n    _id,\n    title,\n    description\n  } = props.note;\n  const [note, setNote] = useState();\n  const [showDetails, setShowDetails] = useState(false);\n  const [noteDesc, setNoteDesc] = useState(description);\n  useEffect(() => {\n    setNote(props.note);\n  }, []);\n\n  const handleShowDetails = () => {\n    if (showDetails === true) return /*#__PURE__*/_jsxDEV(NoteDetails, {\n      noteDesc: noteDesc,\n      setNoteDesc: setNoteDesc,\n      handlePatchDescription: handlePatchDescription,\n      boardId: props.boardId,\n      showDetails: showDetails,\n      setShowDetails: setShowDetails,\n      boardTitle: props.boardTitle,\n      note: props.note\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 41\n    }, this);\n  };\n\n  const handlePatchDescription = async e => {\n    e.preventDefault();\n    const notes = await axios.get(`boards/${props.boardId}`);\n    const updatedNotes = notes.data.content.filter(note => {\n      if (note._id !== _id) {\n        return note;\n      } else {\n        const newObj = { ...note,\n          description: noteDesc\n        };\n        setNote(newObj);\n        console.log(noteDesc, note, newObj);\n        return note;\n      }\n    });\n    console.log(updatedNotes);\n    axios.patch(`/boards/createNote/${props.boardId}`, {\n      content: updatedNotes\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"note\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => setShowDetails(!showDetails),\n      className: \"note__content\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          props.deleteNote(_id);\n        },\n        children: \" delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), showDetails ? handleShowDetails() : '']\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Note, \"5k2SmwmA0u2zuUbwu1xpZxq+GGQ=\");\n\n_c = Note;\nexport default Note;\n\nvar _c;\n\n$RefreshReg$(_c, \"Note\");","map":{"version":3,"sources":["C:/Users/patry/OneDrive/Pulpit/DB learn/client/app/src/components/Note.js"],"names":["React","useState","useEffect","axios","NoteDetails","Note","props","_id","title","description","note","setNote","showDetails","setShowDetails","noteDesc","setNoteDesc","handleShowDetails","handlePatchDescription","boardId","boardTitle","e","preventDefault","notes","get","updatedNotes","data","content","filter","newObj","console","log","patch","deleteNote"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport './Note.css'\r\nimport axios from 'axios'\r\nimport NoteDetails from './NoteDetails'\r\n\r\n\r\nfunction Note(props) {\r\n    const {_id, title, description } = props.note\r\n    const [note, setNote] = useState()\r\n    const [showDetails, setShowDetails] = useState(false)\r\n    const [noteDesc, setNoteDesc] = useState(description)\r\n\r\n    useEffect(() => {\r\n        setNote(props.note)\r\n    }, [])\r\n\r\n    const  handleShowDetails = () => {\r\n        if(showDetails === true) return <NoteDetails noteDesc ={noteDesc} setNoteDesc = {setNoteDesc} handlePatchDescription = {handlePatchDescription} boardId = {props.boardId} showDetails = {showDetails} setShowDetails = {setShowDetails} boardTitle = {props.boardTitle} note = {props.note} />\r\n    }\r\n\r\n\r\n    const handlePatchDescription = async (e) => {\r\n        e.preventDefault()\r\n        const notes = await axios.get(`boards/${props.boardId}`)\r\n        const updatedNotes = notes.data.content.filter( note => {\r\n            if(note._id !== _id) { return note}\r\n            else { const newObj = {...note, description : noteDesc}; setNote(newObj);console.log(noteDesc,note, newObj); return note }\r\n            \r\n            \r\n        } )\r\n        console.log(updatedNotes)\r\n        axios.patch(`/boards/createNote/${props.boardId}`, {content : updatedNotes})\r\n    }\r\n   \r\n\r\n\r\n    return (\r\n        <div className = 'note'>\r\n            <div onClick = {() => setShowDetails(!showDetails)}  className = 'note__content'>\r\n                <input value = {title} />\r\n                <button onClick = {() => {props.deleteNote(_id)}} > delete</button>\r\n            </div>\r\n\r\n            {showDetails ? handleShowDetails() : ''}\r\n            \r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Note\r\n"]},"metadata":{},"sourceType":"module"}